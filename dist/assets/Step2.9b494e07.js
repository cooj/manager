import{r as c,k as C,c as m,d as u,e as t,h as s,y as d,E as v,H as D,I,f,F as M,t as B,m as _,G as $}from"./index.fb59bf61.js";import{_ as T}from"./play.c8da59b1.js";import{_ as h,T as E}from"./talk.7ccf26e4.js";import{t as b}from"./index.fe236e02.js";import{T as N}from"./takeMap.93e1a8a4.js";/* empty css                                                         */const O={id:"video1",muted:"",autoplay:"true",preload:"false"},F=["src"],L={id:"video2",muted:"",autoplay:!1,preload:"false"},P=["src"],U={class:"btn-audio"},W=t("audio",{id:"audio1"},null,-1),z={key:0,class:"btn-next",style:{bottom:"20px",left:"78%"}},A={id:"video3"},G=["src"],H={key:0,class:"btn-next",style:{bottom:"20px",left:"78%"}},j={id:"video4",muted:"",autoplay:"true",preload:"false"},q=["src"],ee={emits:["disabledStatus","childClick"],setup(J,{expose:y,emit:w}){const r=_.data,e=c({btnShow:!1,getSource:"",stepVal:0,myVideo:null}),S=a=>{if(a=="")p.showMap=!0;else{if(a==4){let o=1;e.getSource=b(o,r.role)}i(a)}},i=async a=>{if(e.stepVal=a,g(),a==1)await B(3500),i(a+1);else if(a==4){let o=r.completeList;o.indexOf(2)==-1&&(o.push(2),_.setData("completeList",o)),w("disabledStatus")}},V=()=>{$.warning("\u6CA1\u6709\u8BBE\u7F6E\u5BF9\u8BDD"),e.btnShow=!0},g=()=>{e.myVideo=document.getElementById(`video${e.stepVal}`),e.myVideo.load(),e.myVideo.play()};C(()=>{});const n=c({visible:!1,options:[{name:"\u60A8\u597D\uFF0C\u6B22\u8FCE\u5149\u4E34\uFF01\u8BF7\u95EE\u60A8\u529E\u7406\u4EC0\u4E48\u4E1A\u52A1\uFF1F",value:"A",key:1},{name:"Welcome\uFF01What can i do for you\uFF1F",value:"B",key:2},{name:"\u624B\u8BED",value:"C",key:3}]}),k=a=>{e.btnShow=!0,i(e.stepVal+1)},p=c({showMap:!1}),x=a=>{e.getSource=b(a.key,r.role),p.showMap=!1,i(e.stepVal+1)};return y({data:e,setStep:S,nextStep:i}),(a,o)=>(m(),u(M,null,[t("div",{class:d(["video-box",s(e).stepVal==1?"show":""])},[t("video",O,[t("source",{src:s(e).getSource.step1,type:"video/mp4"},null,8,F)])],2),t("div",{class:d(["video-box",s(e).stepVal==2?"show":""])},[t("video",L,[t("source",{src:s(e).getSource.step2,type:"video/mp4"},null,8,P)]),t("div",U,[W,t("img",{onClick:o[0]||(o[0]=l=>V()),src:T})]),s(e).btnShow?(m(),u("div",z,[t("img",{onClick:o[1]||(o[1]=l=>i(3)),src:h})])):v("",!0)],2),t("div",{class:d(["video-box",s(e).stepVal==3?"show":""])},[t("video",A,[t("source",{src:s(e).getSource.step3,type:"video/mp4"},null,8,G)]),s(e).btnShow?(m(),u("div",H,[t("img",{onClick:o[2]||(o[2]=l=>i(4)),src:h})])):v("",!0)],2),t("div",{class:d(["video-box",s(e).stepVal==4?"show":""])},[t("video",j,[t("source",{src:s(e).getSource.step4,type:"video/mp4"},null,8,q)])],2),D(f(N,{onItemOpen:x},null,512),[[I,s(p).showMap]]),f(E,{visible:s(n).visible,"onUpdate:visible":o[3]||(o[3]=l=>s(n).visible=l),talkData:s(n).options,"onUpdate:talkData":o[4]||(o[4]=l=>s(n).options=l),onChooseItem:k},null,8,["visible","talkData"])],64))}};export{ee as default};
