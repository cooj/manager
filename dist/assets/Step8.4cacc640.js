import{r as c,k as x,c as m,d as u,e as t,h as s,y as d,E as f,H as C,I as D,f as _,F as I,m as h,G as M}from"./index.fb59bf61.js";import{_ as T}from"./play.c8da59b1.js";import{_ as b,T as B}from"./talk.7ccf26e4.js";import{f as $}from"./index.fe236e02.js";import{T as E}from"./takeMap.93e1a8a4.js";/* empty css                                                         */const N={id:"video1",muted:"",autoplay:"true",preload:"false"},O=["src"],F={id:"video2",muted:"",autoplay:!1,preload:"false"},G=["src"],L={class:"btn-audio"},P=t("audio",{id:"audio1"},null,-1),U={key:0,class:"btn-next",style:{bottom:"20px",left:"78%"}},W={id:"video3"},z=["src"],A={key:0,class:"btn-next",style:{bottom:"20px",left:"78%"}},H={id:"video4",muted:"",autoplay:"true",preload:"false"},j=["src"],Z={emits:["disabledStatus","childClick"],setup(q,{expose:y,emit:S}){const r=h.data,e=c({btnShow:!1,getSource:"",stepVal:0,myVideo:null}),w=a=>{if(a=="")p.showMap=!0;else{if(a==4){let o=1;e.getSource=customerGuidance(o,r.role)}i(a)}},i=a=>{if(e.stepVal=a,v(),a==1)setTimeout(()=>{i(a+1)},2500);else if(a==4){let o=r.completeList;o.indexOf(8)==-1&&(o.push(8),h.setData("completeList",o)),S("disabledStatus")}},g=()=>{M.warning("\u6CA1\u6709\u8BBE\u7F6E\u5BF9\u8BDD"),e.btnShow=!0},v=()=>{e.myVideo=document.getElementById(`video${e.stepVal}`),e.myVideo.load(),e.myVideo.play()};x(()=>{});const n=c({visible:!1,options:[{name:"\u60A8\u597D\uFF0C\u6B22\u8FCE\u5149\u4E34\uFF01\u8BF7\u95EE\u60A8\u529E\u7406\u4EC0\u4E48\u4E1A\u52A1\uFF1F",value:"A",key:1},{name:"Welcome\uFF01What can i do for you\uFF1F",value:"B",key:2},{name:"\u624B\u8BED",value:"C",key:3}]}),k=a=>{e.btnShow=!0,v()},p=c({showMap:!1}),V=a=>{e.getSource=$(a.key,r.role),p.showMap=!1,i(1)};return y({data:e,setStep:w,nextStep:i}),(a,o)=>(m(),u(I,null,[t("div",{class:d(["video-box",s(e).stepVal==1?"show":""])},[t("video",N,[t("source",{src:s(e).getSource.step1,type:"video/mp4"},null,8,O)])],2),t("div",{class:d(["video-box",s(e).stepVal==2?"show":""])},[t("video",F,[t("source",{src:s(e).getSource.step2,type:"video/mp4"},null,8,G)]),t("div",L,[P,t("img",{onClick:o[0]||(o[0]=l=>g()),src:T})]),s(e).btnShow?(m(),u("div",U,[t("img",{onClick:o[1]||(o[1]=l=>i(3)),src:b})])):f("",!0)],2),t("div",{class:d(["video-box",s(e).stepVal==3?"show":""])},[t("video",W,[t("source",{src:s(e).getSource.step3,type:"video/mp4"},null,8,z)]),s(e).btnShow?(m(),u("div",A,[t("img",{onClick:o[2]||(o[2]=l=>i(4)),src:b})])):f("",!0)],2),t("div",{class:d(["video-box",s(e).stepVal==4?"show":""])},[t("video",H,[t("source",{src:s(e).getSource.step4,type:"video/mp4"},null,8,j)])],2),C(_(E,{onItemOpen:V},null,512),[[D,s(p).showMap]]),_(B,{visible:s(n).visible,"onUpdate:visible":o[3]||(o[3]=l=>s(n).visible=l),talkData:s(n).options,"onUpdate:talkData":o[4]||(o[4]=l=>s(n).options=l),onChooseItem:k},null,8,["visible","talkData"])],64))}};export{Z as default};
