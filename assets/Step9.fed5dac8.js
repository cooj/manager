import{_ as k,T as S}from"./talk.7ccf26e4.js";import{e as g}from"./index.fe236e02.js";import{r as p,k as w,c as r,d as m,e as o,h as t,y as d,E as x,f as C,F as D,m as u,t as v}from"./index.fb59bf61.js";/* empty css                                                         */const B={id:"video1",muted:"",autoplay:"true",preload:"false"},I=["src"],E={id:"video2",muted:"",autoplay:!1,preload:"false"},N=["src"],F={key:0,class:"btn-next",style:{bottom:"20px",left:"78%"}},H={id:"video3"},L=["src"],M={emits:["disabledStatus","childClick"],setup(T,{expose:b,emit:f}){const c=u.data,e=p({btnShow:!1,getSource:g(c.role),stepVal:0,myVideo:null}),y=a=>{l(a)},l=async a=>{if(e.stepVal=a,_(),a==1)await v(3e3),i.visible=!0;else if(a==3){let s=c.completeList;s.indexOf(9)==-1&&(s.push(9),u.setData("completeList",s)),await v(800),f("disabledStatus")}},_=()=>{e.myVideo=document.getElementById(`video${e.stepVal}`),e.myVideo.load(),e.myVideo.play()};w(()=>{});const i=p({visible:!1,choseVal:"",options:[{name:"\u8BF7\u6162\u8D70\uFF01",value:"A",key:1},{name:"Hope to see you again",value:"B",key:2},{name:"\u624B\u8BED",value:"C",key:3}]}),h=()=>{i.visible=!1},V=a=>{i.choseVal=a,l(e.stepVal+1),e.btnShow=!0};return b({data:e,setStep:y,nextStep:l}),(a,s)=>(r(),m(D,null,[o("div",{class:d(["video-box",t(e).stepVal==1?"show":""])},[o("video",B,[o("source",{src:t(e).getSource.step1,type:"video/mp4"},null,8,I)])],2),o("div",{class:d(["video-box",t(e).stepVal==2?"show":""])},[o("video",E,[o("source",{src:t(e).getSource.step2,type:"video/mp4"},null,8,N)]),t(e).btnShow?(r(),m("div",F,[o("img",{onClick:s[0]||(s[0]=n=>l(3)),src:k})])):x("",!0)],2),o("div",{class:d(["video-box",t(e).stepVal==3?"show":""])},[o("video",H,[o("source",{src:t(e).getSource.step3,type:"video/mp4"},null,8,L)])],2),C(S,{visible:t(i).visible,"onUpdate:visible":s[1]||(s[1]=n=>t(i).visible=n),talkData:t(i).options,"onUpdate:talkData":s[2]||(s[2]=n=>t(i).options=n),onHandleCancel:h,onChooseItem:V},null,8,["visible","talkData"])],64))}};export{M as default};
